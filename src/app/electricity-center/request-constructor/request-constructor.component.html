<mat-card class="request-constructor">
  <mat-card-header>

    <mat-card-title>Конструктор запросов</mat-card-title>

  </mat-card-header>
  <mat-card-content class="request-table-selector">
    <mat-card class="request-tables-element">
      <label id="example-radio-group-label">Выбирете необходимую таблицу</label>

      <mat-radio-group aria-label="Select an option" class="example-radio-group">

        <mat-checkbox *ngFor="let table of tableList" [value]="table.isSelected"  class="example-radio-button" (click)="selectTable(table);">{{table.DisplayName}}</mat-checkbox>
        
      </mat-radio-group>
    </mat-card>
    <mat-tab-group class="tab-tables" >
      <mat-tab [label]="table.DisplayName" *ngFor="let table of selectedTables">
        <mat-card class="request-tables-table">

          <mat-card class="checkbox-attrs">
            <p>Атрибуты для просмотра</p>
            <mat-list >
              <mat-list-item *ngFor="let attr of table.Labels">
                <mat-checkbox name="attr.Name" [(value)]="attr.Select">{{attr.Name}}</mat-checkbox>
              </mat-list-item>
              <mat-divider></mat-divider>
              
             
            </mat-list>


          </mat-card>
          <div class="mat-elevation-z8 table-ful">
            <p>Тонкая настройка</p>
            <table mat-table [dataSource]="table.Boxes" class=" table-ful">

              <!-- Checkbox Column -->
              <ng-container matColumnDef="Selection">
                <th mat-header-cell *matHeaderCellDef>
                  <mat-checkbox (change)="$event ? masterToggle() : null"
                    [checked]="selection.hasValue() && isAllSelected()"
                    [indeterminate]="selection.hasValue() && !isAllSelected()" [aria-label]="checkboxLabel()">
                  </mat-checkbox>
                </th>
                <td mat-cell *matCellDef="let row">
                  <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null"
                    [checked]="selection.isSelected(row)" [aria-label]="checkboxLabel(row)">
                  </mat-checkbox>
                </td>
              </ng-container>

              <!-- Position Column -->
              <ng-container matColumnDef="Id">
                <th mat-header-cell *matHeaderCellDef> № </th>
                <td mat-cell *matCellDef="let element"> {{element.Id}} </td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="Name">
                <th mat-header-cell *matHeaderCellDef> Наименование атрибута </th>
                <td mat-cell *matCellDef="let element"> {{element.Name}} </td>
              </ng-container>

              <!-- Weight Column -->
              <ng-container matColumnDef="Operator">
                <th mat-header-cell *matHeaderCellDef> Оператор </th>
                <td mat-cell *matCellDef="let element">


                  <select required [(value)]="element.Operator">
                    <option value="volvo">'>='</option>
                    <option value="saab">'>'</option>
                    <option value="mercedes">'<'</option> <option value="audi">'<='</option> <option value="audi">'!='
                    </option>
                    <option value="audi">'='</option>

                  </select>
                </td>
              </ng-container>

              <!-- Symbol Column -->
              <ng-container matColumnDef="Value">
                <th mat-header-cell *matHeaderCellDef> Значение </th>
                <td mat-cell *matCellDef="let element">

                  <mat-form-field class="example-form-field">
                    <input matInput type="text" placeholder="Значение поля">
                    <button mat-button *ngIf="value" matSuffix mat-icon-button aria-label="Clear" (click)="value=''">
                      <mat-icon>close</mat-icon>
                    </button>
                  </mat-form-field>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)">
              </tr>
            </table>
          </div>

        </mat-card>
      </mat-tab>
      
    </mat-tab-group>
    

  </mat-card-content>
  <mat-card-actions>
    <button mat-button>Выполнить запрос</button>
    <button mat-button>Отмена</button>
  </mat-card-actions>
</mat-card>